var supermarket1=supermarket1||{};supermarket1.priceDOM=[];supermarket1.getPriceFlag=false;supermarket1.switchPriceFlag="";supermarket1.getPrice=function(){supermarket1.getPriceFlag=true;GetPrice.queryprice(supermarket1.priceDOM,"1",supermarket1.getpricecallback)};supermarket1.getpricecallback=function(g){for(var c=0;c<g.length;c++){if(g[c]){var f="";if(g[c].price){f=g[c].price}if(!f){var e=supermarket1.priceDOM[0].find(".curPrice").parent();if(e.hasClass("commodity-conprice")){supermarket1.priceDOM[0].find(".curPrice").html("<span>暂无报价</span>")}else{supermarket1.priceDOM[0].find(".curPrice").html('<span class="tempor-price">暂无报价</span>')}}else{var b="";var d="";var a=f.split(".");if(a.length==1){b=a[0]}if(a.length==2){b=a[0];d=a[1]}supermarket1.priceDOM[0].find(".curPrice").html("<span>&yen;"+b+"."+d+"</span>")}}else{var e=supermarket1.priceDOM[0].find(".curPrice").parent();if(e.hasClass("commodity-conprice")){supermarket1.priceDOM[0].find(".curPrice").html("<span>暂无报价</span>")}else{supermarket1.priceDOM[0].find(".curPrice").html('<span class="tempor-price">暂无报价</span>')}}supermarket1.priceDOM.shift()}if(supermarket1.priceDOM.length>0){GetPrice.queryprice(supermarket1.priceDOM,"1",supermarket1.getpricecallback)}else{supermarket1.getPriceFlag=false}};$(function(){lazyelem.listen("li[data-sku]","fn",function(a){supermarket1.priceDOM.push(a);if(supermarket1.getPriceFlag){return}supermarket1.getPrice()});lazyelem.listen("dl[data-sku]","fn",function(a){supermarket1.priceDOM.push(a);if(supermarket1.getPriceFlag){return}supermarket1.getPrice()})});